<!-- Test parameters partial for HTMX -->
{% if params %}
    <div class="border rounded p-3 bg-light">
        <h6 class="text-muted small mb-3">
            <i class="bi bi-sliders"></i> Test-Specific Parameters:
        </h6>

        {% for param in params %}
            <div class="mb-3">
                <label class="form-label">{{ param.label }}:</label>

                {% if param.type == 'select' %}
                    <select name="{{ param.name }}" class="form-select">
                        {% for value, label in param.options %}
                            <option value="{{ value }}"
                                    {% if value == param.default %}selected{% endif %}>
                                {{ label }}
                            </option>
                        {% endfor %}
                    </select>

                {% elif param.type == 'checkbox' %}
                    <div class="form-check">
                        <input type="checkbox"
                               name="{{ param.name }}"
                               class="form-check-input"
                               {% if param.default %}checked{% endif %}>
                        <label class="form-check-label">
                            {{ param.label }}
                        </label>
                    </div>

                {% else %}
                    <input type="{{ param.type }}"
                           name="{{ param.name }}"
                           class="form-control"
                           value="{{ param.default }}"
                           {% if param.min %}min="{{ param.min }}"{% endif %}
                           {% if param.max %}max="{{ param.max }}"{% endif %}
                           {% if param.step %}step="{{ param.step }}"{% endif %}>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% else %}
    <p class="text-muted"><i class="bi bi-info-circle"></i> No additional parameters for this test</p>
{% endif %}
